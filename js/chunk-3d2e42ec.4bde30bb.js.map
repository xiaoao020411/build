{"version":3,"sources":["webpack:///./src/views/MemorabiliaAdd.vue?f517","webpack:///src/views/MemorabiliaAdd.vue","webpack:///./src/views/MemorabiliaAdd.vue?3852","webpack:///./src/views/MemorabiliaAdd.vue","webpack:///./src/views/MemorabiliaAdd.vue?9de1"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","typeid","_v","_s","undefined","id","ref","attrs","from","rules","staticStyle","model","value","callback","$$v","$set","expression","handleAvatarSuccess","headers","$config","baseimg","photo","_e","handSuccess","_l","item","index","key","filename","leAvatarSuccess","on","$event","submitFrom","staticRenderFns","data","Date","prototype","Format","o","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","S","getMilliseconds","k","test","fmt","RegExp","title","$route","params","comment","content","state","videos","pictures","watch","console","log","to","path","self","sizeForm","created","getModel","methods","query","that","$http","get","then","res","$refs","validate","valid","addtime","post","$router","push","$message","message","type","errCode","component"],"mappings":"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","file":"js/chunk-3d2e42ec.4bde30bb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"honor_add\"},[_c('div',{staticClass:\"head\"},[(_vm.typeid == 1)?_c('div',[_c('p',[_vm._v(_vm._s(this.id == undefined ? '添加作品信息' : '编辑作品信息'))])]):(_vm.typeid == 2)?_c('div',[_c('p',[_vm._v(_vm._s(this.id == undefined ? '添加活动信息' : '编辑活动信息'))])]):(_vm.typeid == 3)?_c('div',[_c('p',[_vm._v(_vm._s(this.id == undefined ? '添加赛事信息' : '编辑赛事信息'))])]):(_vm.typeid == 4)?_c('div',[_c('p',[_vm._v(_vm._s(this.id == undefined ? '添加考级信息' : '编辑考级信息'))])]):_c('div',[_c('p',[_vm._v(_vm._s(this.id == undefined ? '添加荣誉信息' : '编辑荣誉信息'))])])]),_c('div',{staticClass:\"form\"},[_c('el-form',{ref:\"from\",attrs:{\"model\":_vm.from,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"top_left\"},[_c('el-form-item',{attrs:{\"prop\":\"title\",\"label\":\"标题\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.from.title),callback:function ($$v) {_vm.$set(_vm.from, \"title\", $$v)},expression:\"from.title\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"comment\",\"label\":\"描述\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.from.comment),callback:function ($$v) {_vm.$set(_vm.from, \"comment\", $$v)},expression:\"from.comment\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"photo\",\"label\":\"封面图片\"}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"/api/upload/add\",\"on-success\":_vm.handleAvatarSuccess,\"show-file-list\":false,\"headers\":_vm.headers}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"上传图片\")]),(_vm.from.photo)?_c('img',{staticStyle:{\"width\":\"30px\",\"height\":\"30px\"},attrs:{\"src\":_vm.$config.baseimg + _vm.from.photo,\"alt\":\"\"}}):_vm._e()],1)],1),_c('el-form-item',{attrs:{\"prop\":\"videos\",\"label\":\"课程视频\"}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"/api/upload/add\",\"multiple\":\"\",\"show-file-list\":false,\"on-success\":_vm.handSuccess,\"headers\":_vm.headers}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"上传视频\")]),_vm._l((_vm.from.videos),function(item,index){return _c('video',{key:index,staticStyle:{\"width\":\"30px\"},attrs:{\"src\":_vm.$config.baseimg + item.filename}})})],2)],1)],1),_c('div',{staticClass:\"top_right\"},[_c('el-form-item',{attrs:{\"prop\":\"pictures\"}},[_c('div',[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"/api/upload/add\",\"show-file-list\":false,\"on-success\":_vm.leAvatarSuccess,\"headers\":_vm.headers,\"multiple\":\"\"}},[_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]),_c('p',[_vm._v(\"上传照片\")])],1)]),_c('div',{staticClass:\"img\"},_vm._l((_vm.from.pictures),function(item,index){return _c('img',{key:index,staticStyle:{\"width\":\"50px\",\"height\":\"50px\",\"margin-top\":\"10px\"},attrs:{\"src\":_vm.$config.baseimg + item.filename,\"alt\":\"\"}})}),0)],1)]),_c('div',{staticClass:\"bottom\"},[_c('el-form-item',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"prop\":\"content\",\"label\":\"详细信息\"}},[_c('el-input',{staticStyle:{\"width\":\"50%\"},attrs:{\"type\":\"textarea\"},model:{value:(_vm.from.content),callback:function ($$v) {_vm.$set(_vm.from, \"content\", $$v)},expression:\"from.content\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitFrom('from')}}},[_vm._v(\"确定\")])],1)],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"honor_add\">\r\n    <div class=\"head\">\r\n      <div v-if=\"typeid == 1\">\r\n        <p>{{ this.id == undefined ? '添加作品信息' : '编辑作品信息' }}</p>\r\n      </div>\r\n      <div v-else-if=\"typeid == 2\">\r\n        <p>{{ this.id == undefined ? '添加活动信息' : '编辑活动信息' }}</p>\r\n      </div>\r\n      <div v-else-if=\"typeid == 3\">\r\n        <p>{{ this.id == undefined ? '添加赛事信息' : '编辑赛事信息' }}</p>\r\n      </div>\r\n      <div v-else-if=\"typeid == 4\">\r\n        <p>{{ this.id == undefined ? '添加考级信息' : '编辑考级信息' }}</p>\r\n      </div>\r\n      <div v-else>\r\n        <p>{{ this.id == undefined ? '添加荣誉信息' : '编辑荣誉信息' }}</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"form\">\r\n      <el-form :model=\"from\" :rules=\"rules\" ref=\"from\" label-width=\"80px\">\r\n        <div class=\"top\">\r\n          <div class=\"top_left\">\r\n            <el-form-item prop=\"title\" label=\"标题\">\r\n              <el-input v-model=\"from.title\" style=\"width:300px;\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"comment\" label=\"描述\">\r\n              <el-input v-model=\"from.comment\" style=\"width:300px;\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"photo\" label=\"封面图片\">\r\n              <el-upload\r\n                class=\"upload-demo\"\r\n                action=\"/api/upload/add\"\r\n                :on-success=\"handleAvatarSuccess\"\r\n                :show-file-list=\"false\"\r\n                :headers=\"headers\"\r\n              >\r\n                <el-button size=\"small\" type=\"primary\">上传图片</el-button>\r\n                <img\r\n                  v-if=\"from.photo\"\r\n                  style=\"width:30px;height:30px;\"\r\n                  :src=\"$config.baseimg + from.photo\"\r\n                  alt=\"\"\r\n                />\r\n              </el-upload>\r\n            </el-form-item>\r\n            <el-form-item prop=\"videos\" label=\"课程视频\">\r\n              <el-upload\r\n                class=\"upload-demo\"\r\n                action=\"/api/upload/add\"\r\n                multiple\r\n                :show-file-list=\"false\"\r\n                :on-success=\"handSuccess\"\r\n                :headers=\"headers\"\r\n              >\r\n                <el-button size=\"small\" type=\"primary\">上传视频</el-button>\r\n                <video\r\n                  v-for=\"(item, index) in from.videos\"\r\n                  :key=\"index\"\r\n                  :src=\"$config.baseimg + item.filename\"\r\n                  style=\"width:30px;height30px\"\r\n                ></video>\r\n              </el-upload>\r\n            </el-form-item>\r\n          </div>\r\n          <div class=\"top_right\">\r\n            <el-form-item prop=\"pictures\">\r\n              <div>\r\n                <el-upload\r\n                  class=\"avatar-uploader\"\r\n                  action=\"/api/upload/add\"\r\n                  :show-file-list=\"false\"\r\n                  :on-success=\"leAvatarSuccess\"\r\n                  :headers=\"headers\"\r\n                  multiple\r\n                >\r\n                  <i class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                </el-upload>\r\n                <p>上传照片</p>\r\n              </div>\r\n            </el-form-item>\r\n            <div class=\"img\">\r\n              <img\r\n                v-for=\"(item, index) in from.pictures\"\r\n                :key=\"index\"\r\n                :src=\"$config.baseimg + item.filename\"\r\n                style=\"width:50px;height:50px;margin-top:10px;\"\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"bottom\">\r\n          <el-form-item\r\n            style=\"margin-top:20px;\"\r\n            prop=\"content\"\r\n            label=\"详细信息\"\r\n          >\r\n            <el-input\r\n              v-model=\"from.content\"\r\n              type=\"textarea\"\r\n              style=\"width:50%;\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"submitFrom('from')\"\r\n              >确定</el-button\r\n            >\r\n          </el-form-item>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    Date.prototype.Format = function(fmt) {\r\n      var o = {\r\n        'M+': this.getMonth() + 1, //月份\r\n        'd+': this.getDate(), //日\r\n        'H+': this.getHours(), //小时\r\n        'm+': this.getMinutes(), //分\r\n        's+': this.getSeconds(), //秒\r\n        'q+': Math.floor((this.getMonth() + 3) / 3), //季度\r\n        S: this.getMilliseconds(), //毫秒\r\n      }\r\n      if (/(y+)/.test(fmt))\r\n        fmt = fmt.replace(\r\n          RegExp.$1,\r\n          (this.getFullYear() + '').substr(4 - RegExp.$1.length)\r\n        )\r\n      for (var k in o)\r\n        if (new RegExp('(' + k + ')').test(fmt))\r\n          fmt = fmt.replace(\r\n            RegExp.$1,\r\n            RegExp.$1.length == 1\r\n              ? o[k]\r\n              : ('00' + o[k]).substr(('' + o[k]).length)\r\n          )\r\n      return fmt\r\n    }\r\n    return {\r\n      headers: { token: sessionStorage.getItem('token') },\r\n      from: {\r\n        id: 0,\r\n        title: '',\r\n        typeid: this.$route.params.typeid,\r\n\r\n        photo: '',\r\n        comment: '',\r\n        content: '',\r\n        state: 0,\r\n        videos: [],\r\n        pictures: [],\r\n      },\r\n      id: '',\r\n      rules: {\r\n        title: [\r\n          { required: true, message: '请输入标题', trigger: 'blur' },\r\n          { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' },\r\n        ],\r\n        comment: [{ required: true, message: '请输入描述', trigger: 'blur' }],\r\n        photo: [{ required: true, message: '请选择封面图片', trigger: 'blur' }],\r\n        videos: [\r\n          { required: true, message: '请选择上传视频', trigger: 'blur' },\r\n        ],\r\n        pictures: [\r\n          { required: true, message: '请选择封面图片', trigger: 'blur' },\r\n        ],\r\n        content: [\r\n          { required: true, message: '请输入详细信息', trigger: 'blur' },\r\n        ],\r\n      },\r\n    }\r\n  },\r\n  watch: {\r\n    $route(to, from) {\r\n      console.log(to, from)\r\n      let self = this\r\n      if (to.path == '/muke/memorabiliaAdd/' + this.$route.params.typeid) {\r\n        self.sizeForm = {\r\n          id: 0,\r\n          title: '',\r\n          typeid: this.$route.params.typeid,\r\n          photo: '',\r\n          comment: '',\r\n          content: '',\r\n          state: 0,\r\n          videos: [],\r\n          pictures: [],\r\n        }\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.getModel()\r\n  },\r\n  methods: {\r\n    getModel() {\r\n      this.id = this.$route.query.id\r\n      // console.log(this.id)\r\n      if (this.id == undefined) {\r\n        return\r\n      }\r\n      let that = this\r\n      that.$http.get('/api/records/get?id=' + that.id).then((res) => {\r\n        // console.log(res)\r\n        that.from = res.data\r\n      })\r\n    },\r\n    submitFrom(from) {\r\n      this.$refs[from].validate((valid) => {\r\n        if (valid) {\r\n          let that = this\r\n          that.from.addtime = new Date().Format('yyyy-MM-dd HH:mm:ss')\r\n          that.$http.post('/api/records/add', that.from).then((res) => {\r\n            if (that.id == undefined) {\r\n              console.log(res)\r\n              that.$router.push({\r\n                path: '/muke/memorabilia/' + this.$route.params.typeid,\r\n              })\r\n              that.$message({\r\n                message: '添加成功',\r\n                type: 'success',\r\n              })\r\n            } else {\r\n              console.log(res)\r\n              that.$router.push({\r\n                path: '/muke/memorabilia/' + this.$route.params.typeid,\r\n              })\r\n              that.$message({\r\n                message: '编辑成功',\r\n                type: 'success',\r\n              })\r\n            }\r\n          })\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    leAvatarSuccess(res, file) {\r\n      if (res.errCode == 10000) {\r\n        this.from.pictures.push({ filename: '', oldfilename: file.name })\r\n        const index = this.from.pictures.length - 1\r\n        this.from.pictures[index].filename = res.data\r\n      }\r\n    },\r\n    handSuccess(res, file) {\r\n      console.log(res)\r\n      if (res.errCode == 10000) {\r\n        this.from.videos.push({ filename: '', oldfilename: file.name })\r\n\r\n        const index = this.from.videos.length - 1\r\n        this.from.videos[index].filename = res.data\r\n      }\r\n    },\r\n    handleAvatarSuccess(res, file) {\r\n      if (res.errCode == 10000) {\r\n        this.from.photo = res.data\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.honor_add {\r\n  width: 100%;\r\n  height: 100%;\r\n  .head {\r\n    width: 100%;\r\n    height: 50px;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    p {\r\n      margin-left: 20px;\r\n    }\r\n  }\r\n  .form {\r\n    width: 80%;\r\n    height: 100%;\r\n    margin: 0 auto;\r\n    .top {\r\n      width: 100%;\r\n      height: 70%;\r\n      display: flex;\r\n      .top_left {\r\n        width: 50%;\r\n        height: 100%;\r\n      }\r\n      .top_right {\r\n        width: 50%;\r\n        height: 100%;\r\n        display: flex;\r\n        .img {\r\n          margin-left: 60px;\r\n          height: 293px;\r\n        }\r\n        div {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          margin-left: 10px;\r\n\r\n          p {\r\n            margin-top: 10px;\r\n          }\r\n        }\r\n        .avatar-uploader .el-upload {\r\n          border: 1px dashed #d9d9d9;\r\n          border-radius: 6px;\r\n          cursor: pointer;\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n        .avatar-uploader .el-upload:hover {\r\n          border-color: #409eff;\r\n        }\r\n        .avatar-uploader-icon {\r\n          font-size: 28px;\r\n          color: #8c939d;\r\n          width: 178px;\r\n          height: 178px;\r\n          line-height: 178px;\r\n          text-align: center;\r\n        }\r\n        .avatar {\r\n          width: 178px;\r\n          height: 178px;\r\n          display: block;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemorabiliaAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemorabiliaAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemorabiliaAdd.vue?vue&type=template&id=4de13ec3&\"\nimport script from \"./MemorabiliaAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./MemorabiliaAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MemorabiliaAdd.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemorabiliaAdd.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}